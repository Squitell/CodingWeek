# ğŸ“Œ Bone Marrow Transplant (BMT) Prediction Application
This application consists of a **FastAPI backend** and a **React frontend** to predict survival status after a Bone Marrow Transplant.

---

## âš™ï¸ 1. Backend Setup (FastAPI)
The backend handles API requests, processes input data, and makes predictions using a trained **LightGBM model**.

### â¤ 1.1 Navigate to the Backend Directory
Ensure you are in the `Back_end` folder:

        cd Back_end


### â¤ 1.2 Create & Activate a Virtual Environment

        python -m venv .venv 
        .venv/bin/activate


### â¤ 1.3 Install Dependencies

        pip install -r requirements.txt
        .venv/bin/activate

### â¤ 1.4 Run the Backend Server
 
        python main.py

âœ”ï¸ The backend should now be running at: **`http://127.0.0.1:8000`**  
âœ”ï¸ To check the API, open: **`http://127.0.0.1:8000/docs`** in your browser.

---

## ğŸ–¥ï¸ 2. Frontend Setup (React)
The frontend provides the user interface to input patient data and receive predictions.

### â¤ 2.1 Clone the Frontend Repository (if not already cloned)

    git clone https://github.com/AhmedTERRAF/CodingWeek_Grp8.git


### â¤ 2.2 Navigate to the Frontend Directory

    cd Front_end


### â¤ 2.3 Install Dependencies

    npm install


### â¤ 2.4 Start the React Application

    npm start

âœ”ï¸ The frontend should now be running at: **`http://localhost:3000`**  
âœ”ï¸ Open your browser and go to **`http://localhost:3000`** to access the application.

---

## ğŸ”— 3. Connecting Frontend & Backend
By default, the frontend is configured to send API requests to the backend at **`http://127.0.0.1:8000/predict`**.

### â¤ **Troubleshooting**
âœ… Ensure the **backend is running before starting the frontend**.  
âœ… If the prediction doesnâ€™t work, check **developer console (F12 â†’ Console)** for errors.  
âœ… If CORS issues occur, restart the backend.


## ğŸš€ 4. Running Full Application

1ï¸âƒ£ Open **Terminal 1** â†’ Start Backend:

        cd Back_end/machine_learning
        python main.py

2ï¸âƒ£ Open **Terminal 2** â†’ Start Frontend:

        cd Front_end 
        npm start

Once the application is running, you can explore the machine_learning folder to understand how the model is trained and evaluated.

ğŸ“‚ Inside Back_end/machine_learning, you'll find:

models/ â†’ Saved trained models (e.g., LightGBM_model.pkl)
notebooks/ â†’ Exploratory Data Analysis (EDA) & visualizations
shap_analysis/ â†’ SHAP value explanations for model interpretability
feature_importance_plots/ â†’ Feature importance graphs
src/ â†’ Scripts for training, testing, and analyzing models
plots/â†’ Stores all generated plots, including feature importance and data visualizations.
model_training.py â†’ Handles training different ML models.
model_testing.py â†’ Evaluates the model on test data.
shap_analysis.py â†’ Generates SHAP value plots.
eda.py â†’ Exploratory Data Analysis script

To ensure the integrity of the machine learning pipeline, several test scripts are available in the **`tests/`** folder.

### âœ… Available Test Scripts:
- **`test_class_imbalance.py`** â†’ Tests the handling of class imbalance.
- **`test_compare_oversampling.py`** â†’ Compares different oversampling techniques.
- **`test_data_processing.py`** â†’ Verifies data preprocessing steps.
- **`test_eda.py`** â†’ Ensures EDA functions work correctly.
- **`test_model_testing.py`** â†’ Validates model evaluation functions.
- **`test_model_training.py`** â†’ Checks if model training runs correctly.
- **`test_shap_analysis.py`** â†’ Tests SHAP analysis for interpretability.